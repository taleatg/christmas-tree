(()=>{"use strict";var e={700:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.data=void 0,t.data=[{num:"1",name:"Большой шар с рисунком",count:"2",year:"1960",shape:"шар",color:"желтый",size:"большой",favorite:"нет"},{num:"2",name:"Зелёный шар с цветами",count:"5",year:"2000",shape:"шар",color:"зелёный",size:"большой",favorite:"нет"},{num:"3",name:"Красный матовый шар",count:"3",year:"1990",shape:"шар",color:"красный",size:"большой",favorite:"нет"},{num:"4",name:"Сосулька красная",count:"2",year:"1980",shape:"фигурка",color:"красный",size:"большой",favorite:"нет"},{num:"5",name:"Красный виноград",count:"4",year:"1980",shape:"фигурка",color:"красный",size:"средний",favorite:"да"},{num:"6",name:"Красный шар с рисунком",count:"6",year:"2010",shape:"шар",color:"красный",size:"большой",favorite:"нет"},{num:"7",name:"Молочно-белый шар",count:"12",year:"1960",shape:"шар",color:"белый",size:"средний",favorite:"да"},{num:"8",name:"Красный шар",count:"10",year:"2010",shape:"шар",color:"красный",size:"большой",favorite:"нет"},{num:"9",name:"Колокольчик старинный",count:"2",year:"1950",shape:"колокольчик",color:"белый",size:"большой",favorite:"нет"},{num:"10",name:"Белый шар ретро",count:"7",year:"1960",shape:"шар",color:"белый",size:"большой",favorite:"нет"},{num:"11",name:"Шишка еловая белая",count:"11",year:"1960",shape:"шишка",color:"белый",size:"малый",favorite:"нет"},{num:"12",name:"Белый шар с цветами",count:"5",year:"1980",shape:"шар",color:"белый",size:"большой",favorite:"нет"},{num:"13",name:"Шар расписной Река",count:"3",year:"1970",shape:"шар",color:"синий",size:"большой",favorite:"да"},{num:"14",name:"Шар расписной Деревня",count:"4",year:"1970",shape:"шар",color:"синий",size:"большой",favorite:"да"},{num:"15",name:"Колокольчик расписной",count:"3",year:"1970",shape:"колокольчик",color:"синий",size:"средний",favorite:"нет"},{num:"16",name:"Шишка расписная Пейзаж",count:"3",year:"1970",shape:"шишка",color:"синий",size:"средний",favorite:"да"},{num:"17",name:"Шишка расписная",count:"7",year:"1970",shape:"шишка",color:"красный",size:"средний",favorite:"нет"},{num:"18",name:"Желтый шар с бантом",count:"2",year:"2010",shape:"шар",color:"желтый",size:"большой",favorite:"нет"},{num:"19",name:"Желтый шар с паетками",count:"12",year:"1980",shape:"шар",color:"желтый",size:"большой",favorite:"нет"},{num:"20",name:"Красный шар с бантом",count:"8",year:"1950",shape:"шар",color:"красный",size:"средний",favorite:"да"},{num:"21",name:"Красный шар с звёздами",count:"4",year:"1970",shape:"шар",color:"красный",size:"большой",favorite:"да"},{num:"22",name:"Шишка еловая золотая",count:"11",year:"1990",shape:"шишка",color:"желтый",size:"малый",favorite:"нет"},{num:"23",name:"Колокольчик старинный",count:"9",year:"1950",shape:"колокольчик",color:"желтый",size:"большой",favorite:"нет"},{num:"24",name:"Снежинка изящная",count:"1",year:"1940",shape:"снежинка",color:"белый",size:"большой",favorite:"нет"},{num:"25",name:"Розовый шар с блёстками",count:"12",year:"2010",shape:"шар",color:"красный",size:"большой",favorite:"нет"},{num:"26",name:"Рубиново-золотой шар",count:"8",year:"1960",shape:"шар",color:"желтый",size:"большой",favorite:"нет"},{num:"27",name:"Красный шар с узором",count:"4",year:"2010",shape:"шар",color:"красный",size:"большой",favorite:"нет"},{num:"28",name:"Бордовый шар с узором",count:"10",year:"2010",shape:"шар",color:"красный",size:"большой",favorite:"нет"},{num:"29",name:"Старинный шар с цветами",count:"5",year:"1950",shape:"шар",color:"желтый",size:"большой",favorite:"да"},{num:"30",name:"Старинный шар с узором",count:"8",year:"1950",shape:"шар",color:"желтый",size:"большой",favorite:"да"},{num:"31",name:"Красный шар с блёстками",count:"8",year:"2010",shape:"шар",color:"красный",size:"большой",favorite:"нет"},{num:"32",name:"Синий шар Вселенная",count:"11",year:"1970",shape:"шар",color:"синий",size:"большой",favorite:"нет"},{num:"33",name:"Синий шар со снежинкой",count:"6",year:"2010",shape:"шар",color:"синий",size:"средний",favorite:"нет"},{num:"34",name:"Зелёный  шар с узором",count:"8",year:"2010",shape:"шар",color:"зелёный",size:"большой",favorite:"нет"},{num:"35",name:"Фигурка Лис в шарфе",count:"8",year:"1950",shape:"фигурка",color:"желтый",size:"средний",favorite:"да"},{num:"36",name:"Сиреневый шар Метель",count:"1",year:"2000",shape:"шар",color:"синий",size:"большой",favorite:"нет"},{num:"37",name:"Зелёный  шар Метель",count:"6",year:"2000",shape:"шар",color:"зелёный",size:"большой",favorite:"нет"},{num:"38",name:"Голубой  шар Метель",count:"6",year:"2000",shape:"шар",color:"синий",size:"большой",favorite:"нет"},{num:"39",name:"Красная снежинка",count:"6",year:"1990",shape:"снежинка",color:"красный",size:"большой",favorite:"нет"},{num:"40",name:"Снежинка золотая",count:"12",year:"2020",shape:"снежинка",color:"желтый",size:"большой",favorite:"нет"},{num:"41",name:"Снежинка арктическая",count:"11",year:"2020",shape:"снежинка",color:"белый",size:"большой",favorite:"нет"},{num:"42",name:"Зелёный шар",count:"10",year:"1980",shape:"шар",color:"зелёный",size:"средний",favorite:"нет"},{num:"43",name:"Снежинка двухцветная",count:"6",year:"1960",shape:"снежинка",color:"красный",size:"большой",favorite:"нет"},{num:"44",name:"Фигурка Ангела",count:"11",year:"1940",shape:"фигурка",color:"красный",size:"средний",favorite:"да"},{num:"45",name:"Снежинка новогодняя",count:"1",year:"1980",shape:"снежинка",color:"белый",size:"большой",favorite:"нет"},{num:"46",name:"Фигурка Мухомор",count:"10",year:"1950",shape:"фигурка",color:"красный",size:"малый",favorite:"нет"},{num:"47",name:"Фигурка Колодец",count:"6",year:"1950",shape:"фигурка",color:"красный",size:"малый",favorite:"нет"},{num:"48",name:"Желтый шар с бантом",count:"6",year:"1960",shape:"шар",color:"желтый",size:"большой",favorite:"нет"},{num:"49",name:"Снежинка с бирюзой",count:"4",year:"1980",shape:"снежинка",color:"желтый",size:"большой",favorite:"нет"},{num:"50",name:"Колокольчик большой",count:"3",year:"2020",shape:"колокольчик",color:"красный",size:"большой",favorite:"нет"},{num:"51",name:"Шишка с изморозью",count:"12",year:"1970",shape:"шишка",color:"красный",size:"малый",favorite:"нет"},{num:"52",name:"Красный шар с надписью",count:"12",year:"1990",shape:"шар",color:"красный",size:"большой",favorite:"да"},{num:"53",name:"Снежинка серебристая",count:"6",year:"2020",shape:"снежинка",color:"белый",size:"большой",favorite:"нет"},{num:"54",name:"Зелёный шар с рисунком",count:"6",year:"2010",shape:"шар",color:"зелёный",size:"большой",favorite:"нет"},{num:"55",name:"Пряничный домик",count:"1",year:"1940",shape:"фигурка",color:"желтый",size:"большой",favorite:"нет"},{num:"56",name:"Пряничный теремок",count:"1",year:"1940",shape:"фигурка",color:"желтый",size:"малый",favorite:"нет"},{num:"57",name:"Пряничная избушка",count:"1",year:"1940",shape:"фигурка",color:"желтый",size:"средний",favorite:"нет"},{num:"58",name:"Фигурка белого медведя",count:"2",year:"1980",shape:"фигурка",color:"белый",size:"средний",favorite:"нет"},{num:"59",name:"Желтый шар с надписью",count:"10",year:"1990",shape:"шар",color:"желтый",size:"средний",favorite:"нет"},{num:"60",name:"Фигурка Голубь",count:"12",year:"1940",shape:"фигурка",color:"белый",size:"средний",favorite:"да"}]},625:function(e,t,r){var o=this&&this.__createBinding||(Object.create?function(e,t,r,o){void 0===o&&(o=r),Object.defineProperty(e,o,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,o){void 0===o&&(o=r),e[o]=t[r]}),a=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||o(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),t.buttonSound=t.area=t.resetSettings=t.treeWrap=t.tree=t.switchGarland=t.searchWrap=t.linkToTreePage=t.linkToToysPage=t.iconMainPage=t.buttonStart=t.pageTree=t.pageToys=t.startPage=t.toysSlot=t.messageAfterFiltering=t.inputSearchWrap=t.inputSearch=t.progressYear=t.progressAmount=t.endYear=t.startYear=t.slidersYear=t.endAmount=t.startAmount=t.slidersAmount=t.small=t.medium=t.large=t.toy=t.snowflake=t.cone=t.bell=t.ball=t.inputGreen=t.green=t.inputBlue=t.blue=t.inputRed=t.red=t.inputYellow=t.yellow=t.inputWhite=t.white=t.sortSelect=t.amountSelectedToys=t.countSelectedShow=t.mainPage=void 0,a(r(69),t),a(r(700),t),a(r(942),t),a(r(935),t),a(r(485),t),a(r(16),t),a(r(505),t),a(r(548),t),a(r(835),t),a(r(121),t),a(r(261),t),a(r(173),t),a(r(532),t),a(r(888),t),a(r(838),t),a(r(65),t),a(r(364),t),a(r(120),t),a(r(849),t),a(r(99),t),t.mainPage=document.querySelector(".main"),t.countSelectedShow=document.querySelector(".total-favorite"),t.amountSelectedToys=document.querySelector(".total-favorite"),t.sortSelect=document.querySelector(".sort-select"),t.white=document.querySelector(".white"),t.inputWhite=document.querySelector(".input-white"),t.yellow=document.querySelector(".yellow"),t.inputYellow=document.querySelector(".input-yellow"),t.red=document.querySelector(".red"),t.inputRed=document.querySelector(".input-red"),t.blue=document.querySelector(".blue"),t.inputBlue=document.querySelector(".input-blue"),t.green=document.querySelector(".green"),t.inputGreen=document.querySelector(".input-green"),t.ball=document.querySelector(".shape-ball"),t.bell=document.querySelector(".shape-bell"),t.cone=document.querySelector(".shape-cone"),t.snowflake=document.querySelector(".shape-snowflake"),t.toy=document.querySelector(".shape-toy"),t.large=document.querySelector(".large"),t.medium=document.querySelector(".medium"),t.small=document.querySelector(".small"),t.slidersAmount=document.querySelectorAll(".input-range-amount"),t.startAmount=document.querySelector(".start-amount"),t.endAmount=document.querySelector(".end-amount"),t.slidersYear=document.querySelectorAll(".input-range-year"),t.startYear=document.querySelector(".start-year"),t.endYear=document.querySelector(".end-year"),t.progressAmount=document.querySelector(".progress-line-amount"),t.progressYear=document.querySelector(".progress-line-year"),t.inputSearch=document.querySelector(".search"),t.inputSearchWrap=document.querySelector(".input-search-wrap"),t.messageAfterFiltering=document.querySelector(".message-after-filtering"),t.toysSlot=document.querySelector(".toys-slot"),t.startPage=document.querySelector(".main__page"),t.pageToys=document.querySelector(".main__page-toys"),t.pageTree=document.querySelector(".main__page-tree"),t.buttonStart=document.querySelector(".start-game"),t.iconMainPage=document.querySelector(".icon-main-page"),t.linkToToysPage=document.querySelector(".page-toys"),t.linkToTreePage=document.querySelector(".page-christmas-tree"),t.searchWrap=document.querySelector(".search-wrap"),t.switchGarland=document.querySelector(".on-or-off-garland"),t.tree=document.querySelector(".tree"),t.treeWrap=document.querySelector(".tree-wrap"),t.resetSettings=document.querySelector(".reset-settings"),t.area=document.querySelector("area"),t.buttonSound=document.querySelector(".sound")},99:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.game=t.garland=t.rangeFilters=t.selected=t.filterByColor=t.filterByFavorite=t.filterBySize=t.filterByShape=t.totalFilters=t.objPageTree=t.search=t.sort=t.card=t.coordsArea=void 0;const o=r(849),a=r(532),s=r(942),n=r(548),l=r(838),c=r(121),i=r(261),d=r(16),u=r(935),m=r(485),h=r(173),p=r(835),y=r(888),g=r(69);t.coordsArea=new o.CoordsArea,t.card=new a.Card,t.sort=new s.Sort,t.search=new n.Search,t.objPageTree=new l.PageTree,t.totalFilters=new c.TotalFilters,t.filterByShape=new i.FilterByShape,t.filterBySize=new d.FilterBySize,t.filterByFavorite=new u.FilterByFavorite,t.filterByColor=new m.FilterByColor,t.selected=new h.Selected,t.rangeFilters=new p.RangeFilters,t.garland=new y.Garland,t.game=new g.Game},65:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ToysSlots=void 0;const o=r(625);t.ToysSlots=class{constructor(){this.toyMovement=new o.ToyMovement}fillSlots(){const e=[];document.querySelectorAll(".slot-one-toy").forEach((e=>e.remove()));for(let t=0;t<20;t++)e.push(o.data[t].num);o.savedSelectedToys.length?this.startFillSlots(o.savedSelectedToys.length,o.savedSelectedToys):this.startFillSlots(20,e),this.resetToys()}startFillSlots(e,t){for(let r=0;r<e;r++){const e=document.createElement("div"),a=document.createElement("div"),s=o.savedSelectedToys.length?`${o.savedSelectedToys[r]}`:`${r+1}`;e.setAttribute("id",s);const n=this.countAmountToys();let l=Number(o.data[+t[r]-1].count);l=n[s]?l-Number(n[s]):l;const c=()=>{for(let a=0;a<l;a++){const s=document.createElement("div"),n=o.savedSelectedToys.length?`${o.savedSelectedToys[r]}-${a}`:`${r+1}-${a}`;e.classList.add("slot-one-toy"),s.classList.add("one-toy"),s.setAttribute("id",n),s.setAttribute("draggable","true"),s.style.backgroundImage=`url(././assets/toys/${t[r]}.webp)`,o.toysSlot.appendChild(e),e.appendChild(s)}},i=()=>{e.classList.add("slot-one-toy"),o.toysSlot.appendChild(e)};0===l?i():c(),a.classList.add("total-toys"),a.innerHTML=String(l),e.appendChild(a)}this.toyMovement.startMove()}getToysOnTree(){const e=document.querySelectorAll(".move-toy"),t=[];return e.forEach((e=>{t.push(e.id.split("-")[0])})),t}countAmountToys(){return(e=>{const t={};return e.forEach((r=>{const o=e.filter((e=>e===r));t[r]=String(o.length)})),t})(this.getToysOnTree())}resetToys(){document.querySelector(".reset-toys").addEventListener("click",(()=>{document.querySelectorAll(".move-toy").forEach((e=>e.remove())),this.fillSlots()}))}}},174:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Filter=void 0;const o=r(625);t.Filter=class{constructor(){this.filterOptions=[],this.optionType="",this.arrNameOption=[],this.totalFilters=o.totalFilters}selectOption(){const e=[];this.checkOptionInLocal(e,this.optionType,this.filterOptions),this.filterOptions.forEach((e=>{e.htmlElem.addEventListener("click",(()=>{this.activeOption(e.htmlElem,e.name)}))})),this.arrNameOption=o.isReset||o.isLocalReset?[]:e}resetOption(){(o.isReset||o.isLocalReset)&&(this.arrNameOption=[],location.reload())}searchIndex(e){const t=this.arrNameOption.length?this.arrNameOption.indexOf(e):-1;-1===t?this.arrNameOption.push(e):this.arrNameOption.splice(t,1),localStorage.setItem(this.optionType,JSON.stringify(this.arrNameOption))}checkOptionInLocal(e,t,r){const o=localStorage.getItem(t);if(o){const t=JSON.parse(o);for(let r=0;r<t.length;r++)e.push(t[r]);this.highlightOptionFromLocal(e,r),this.arrNameOption=e||[],this.totalFilters.createNewData()}}}},485:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.FilterByColor=void 0;const o=r(625),a=r(174);class s extends a.Filter{constructor(){super(),this.filterOptions=[{name:"БЕЛЫЙ",htmlElem:o.inputWhite},{name:"ЖЕЛТЫЙ",htmlElem:o.inputYellow},{name:"КРАСНЫЙ",htmlElem:o.inputRed},{name:"СИНИЙ",htmlElem:o.inputBlue},{name:"ЗЕЛЁНЫЙ",htmlElem:o.inputGreen}],this.optionType="type color",this.arrNameOption=[]}activeOption(e,t){this.searchIndex(t),this.totalFilters.createNewData()}highlightOptionFromLocal(e,t){e.forEach((e=>{t.forEach((t=>{e===t.name&&(t.htmlElem.checked=!0)}))}))}}t.FilterByColor=s},935:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.FilterByFavorite=void 0;const o=r(625);t.FilterByFavorite=class{constructor(){this.totalFilters=new o.TotalFilters}favorite(){const e=document.querySelector(".favorite-input");let t=!!JSON.parse(localStorage.getItem("favorite"));t&&(e.checked=!0,this.totalFilters.createNewData()),e.addEventListener("click",(()=>{(e=>{t=e,localStorage.setItem("favorite",JSON.stringify(e)),this.totalFilters.createNewData()})(!t)})),(o.isReset||o.isLocalReset)&&(e.checked=!1)}}},261:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.FilterByShape=void 0;const o=r(625),a=r(174);class s extends a.Filter{constructor(){super(),this.filterOptions=[{name:"ШАР",htmlElem:o.ball},{name:"КОЛОКОЛЬЧИК",htmlElem:o.bell},{name:"ШИШКА",htmlElem:o.cone},{name:"СНЕЖИНКА",htmlElem:o.snowflake},{name:"ФИГУРКА",htmlElem:o.toy}],this.optionType="type shape",this.arrNameOption=[]}activeOption(e,t){e.classList.toggle("active"),this.searchIndex(t),this.totalFilters.createNewData()}highlightOptionFromLocal(e,t){e.forEach((e=>{t.forEach((t=>{e===t.name&&t.htmlElem.classList.add("active")}))}))}}t.FilterByShape=s},16:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.FilterBySize=void 0;const o=r(625),a=r(174);class s extends a.Filter{constructor(){super(),this.filterOptions=[{name:"БОЛЬШОЙ",htmlElem:o.large},{name:"СРЕДНИЙ",htmlElem:o.medium},{name:"МАЛЫЙ",htmlElem:o.small}],this.optionType="type size",this.arrNameOption=[]}activeOption(e,t){e.classList.toggle("active"),this.searchIndex(t),this.totalFilters.createNewData()}highlightOptionFromLocal(e,t){e.forEach((e=>{t.forEach((t=>{e===t.name&&(t.htmlElem.classList.add("active"),t.htmlElem.checked=!0)}))}))}}t.FilterBySize=s},835:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.RangeFilters=void 0;const o=r(625),a=localStorage.getItem("slider amount")||"",s=localStorage.getItem("slider year")||"";t.RangeFilters=class{constructor(){this.totalFilters=o.totalFilters}showSlider(){this.checkLocal();const e=(e,t,r,o)=>{e[0].addEventListener("input",(()=>{+e[0].value>+e[1].value&&(e[1].value=e[0].value)})),e[1].addEventListener("input",(()=>{+e[1].value<+e[0].value&&(e[0].value=e[1].value)})),e.forEach((a=>{a.addEventListener("input",(()=>{t.value=e[0].value,r.value=e[1].value,localStorage.setItem(o,JSON.stringify([t.value,r.value])),this.totalFilters.createNewData(),this.backgroundProgress(o,t,r)}))}))};e(o.slidersAmount,o.startAmount,o.endAmount,"slider amount"),e(o.slidersYear,o.startYear,o.endYear,"slider year")}checkLocal(){const e=(e,t,r,o,a)=>{const s=[],n=JSON.parse(e);for(let e=0;e<n.length;e++)s.push(n[e]);t[0].value=s[0],t[1].value=s[1],r.value=s[0],o.value=s[1],this.backgroundProgress(a,r,o),this.totalFilters.createNewData()};a&&e(a,o.slidersAmount,o.startAmount,o.endAmount,"slider amount"),s&&e(s,o.slidersYear,o.startYear,o.endYear,"slider year")}resetRange(){function e(e,t,r){const o=e[0],a=e[1];o.value=o.min,a.value=a.max,t.value=o.min,r.value=a.max}(o.isReset||o.isLocalReset)&&(e(o.slidersAmount,o.startAmount,o.endAmount),e(o.slidersYear,o.startYear,o.endYear)),o.progressAmount.style.background="#278D9F",o.progressYear.style.background="#278D9F"}backgroundProgress(e,t,r){const a=function(e,o,a){const s=100*(+t.value-o)/a,n=100*(+r.value-o)/a;e.style.background=`linear-gradient(to right, #fff 0%, #fff ${s}%, #278D9F ${s}%, #278D9F ${n}%, #fff ${n}%, #fff 100%)`};"slider amount"===e?a(o.progressAmount,1,11):a(o.progressYear,1940,80)}}},505:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ResetFilters=t.isLocalReset=t.isReset=void 0;const o=r(625);t.isReset=!1,t.isLocalReset=!1,t.ResetFilters=class{constructor(){this.sort=o.sort,this.selected=new o.Selected,this.totalFilters=o.totalFilters,this.filterByShape=o.filterByShape,this.filterBySize=o.filterBySize,this.filterByColor=o.filterByColor,this.filterByFavorite=o.filterByFavorite,this.rangeFilters=o.rangeFilters}localReset(){const e=document.querySelector(".reset"),r=document.querySelector(".local-reset"),o=["type shape","type color","type size","favorite","slider amount","slider year"],a=["type shape","type color","type size","favorite","slider amount","slider year","total selected toys","selected toys","sort type","total toys"];e.addEventListener("click",(()=>{o.forEach((e=>{localStorage.removeItem(e),t.isReset=!0,this.updateCards()}))})),r.addEventListener("click",(()=>{a.forEach((e=>{localStorage.removeItem(e),t.isLocalReset=!0,this.updateCards()}))}))}updateCards(){const e=document.querySelectorAll(".input-color"),r=document.querySelectorAll(".icon"),o=document.querySelector(".favorite-input");e.forEach((e=>{e.checked=!1})),r.forEach((e=>{e.classList.remove("active")})),o.checked=!1,this.filterByShape.resetOption(),this.filterByColor.resetOption(),this.filterBySize.resetOption(),this.filterByFavorite.favorite(),this.totalFilters.createNewData(),this.rangeFilters.resetRange(),t.isReset=!1,t.isLocalReset&&(this.sort.chooseSort(),this.selected.resetSelected(),t.isLocalReset=!1)}}},121:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.TotalFilters=t.currentCards=void 0;const o=r(625);var a;t.currentCards=[],function(e){e[e.size=0]="size",e[e.shape=1]="shape",e[e.color=2]="color",e[e.amount=3]="amount",e[e.year=4]="year"}(a||(a={})),t.TotalFilters=class{constructor(){this.card=new o.Card,this.sort=new o.Sort}createNewData(){const e=!!JSON.parse(localStorage.getItem("favorite")),t=localStorage.getItem("type size")||"",r=localStorage.getItem("type shape")||"",o=localStorage.getItem("type color")||"",a=localStorage.getItem("slider amount")||"",s=localStorage.getItem("slider year")||"",n=[],l=[],c=[],i=[],d=[],u=function(e,t){if(e){const r=JSON.parse(e);for(let e=0;e<r.length;e++)t.push(r[e])}};u(t,n),u(r,l),u(o,c),u(a,i),u(s,d);const m=[n,l,c,i,d];this.checkFilters(m,e)}checkFilters(e,r){const s=document.querySelectorAll(".card"),n=o.data.filter((t=>!e[a.size].length||!!e[a.size].find((e=>e===t.size.toUpperCase())))).filter((t=>!e[a.shape].length||!!e[a.shape].find((e=>e===t.shape.toUpperCase())))).filter((t=>!e[a.color].length||!!e[a.color].find((e=>e===t.color.toUpperCase())))).filter((t=>!e[a.amount].length||+t.count>=+e[a.amount][0]&&+t.count<=+e[a.amount][1])).filter((t=>!e[a.year].length||t.year>=e[a.year][0]&&t.year<=e[a.year][1])).filter((e=>!r||"ДА"===e.favorite.toUpperCase()));t.currentCards=n,s.forEach((e=>e.remove())),this.card.giveCardContent(n),this.sort.chooseSort()}}},888:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Garland=void 0;const o=r(625),a=[7,13,17,23,29];t.Garland=class{showGarland(){const e=document.querySelector(".garland");for(;e.firstChild;)e.removeChild(e.firstChild);for(let t=0;t<28;t++){const t=document.createElement("div");t.classList.add("bulb"),e.append(t)}}createGarlandForTree(e){const t=document.querySelectorAll(".layer"),r=document.querySelector(".garland-wrap"),s=["red","orange","green","blue","indigo","gold","violet"],n="mix"===e;t.forEach((e=>e.remove()));const l=function(){const t=Math.floor(Math.random()*s.length);e=s[t]};o.isOnGarland&&function(){for(let t=0;t<5;t++){const o=document.createElement("div");let s=0;o.classList.add("layer",`layer-${t+1}`),r.appendChild(o);for(let r=0;r<a[t];r++){const c=document.createElement("div"),i=Math.floor(a[t]/2);n&&l(),s=r<a[t]/2?s+4:s-4,c.style.top=String(s)+"px",r===i&&(c.style.top=String(s-4)+"px"),c.classList.add("garland-ball"),c.style.backgroundColor=e,c.style.boxShadow=`1px 1px 15px ${e}, -1px -1px 15px ${e}`,o.appendChild(c)}}}()}}},942:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Sort=void 0;const o=r(625);var a;!function(e){e[e.sortByNameTop=1]="sortByNameTop",e[e.sortByNameBottom=2]="sortByNameBottom",e[e.sortByCountMax=3]="sortByCountMax",e[e.sortByCountMin=4]="sortByCountMin"}(a||(a={})),t.Sort=class{constructor(){this.card=new o.Card}chooseSort(){const e=o.sortSelect.options,t=localStorage.getItem("sort type"),r=e=>{e===a.sortByNameTop?this.sortByName("top"):e===a.sortByNameBottom?this.sortByName("bottom"):e===a.sortByCountMax?this.sortByCount("max"):e===a.sortByCountMin&&this.sortByCount("min")};if(t){const e=JSON.parse(t);for(let t=0;t<e.length;t++)0!==e[t]&&(r(t+1),o.sortSelect.options[t+1].selected=!0)}o.sortSelect.onchange=()=>r(e.selectedIndex),o.isLocalReset&&(e.selectedIndex=0)}sortByName(e){const t=document.querySelectorAll(".title-card"),r=[];for(let e=0;e<t.length;e++)r.push([t[e].outerText,o.numCards[e]-1]);"top"===e?function(e){e.sort(((e,t)=>e>t?1:-1)),localStorage.setItem("sort type",JSON.stringify(["sortByNameTop",0,0,0]))}(r):function(e){e.sort(((e,t)=>e>t?-1:1)),localStorage.setItem("sort type",JSON.stringify([0,"sortByNameBottom",0,0]))}(r),this.moveCards(r,1)}sortByCount(e){const t=document.querySelectorAll(".buyYear"),r=[];for(let e=0;e<t.length;e++)r.push([t[e].outerText,o.numCards[e]-1]);"min"===e?function(e){e.sort(((e,t)=>+t[0]-+e[0])),localStorage.setItem("sort type",JSON.stringify([0,0,0,"sortByCountMin"]))}(r):function(e){e.sort(((e,t)=>+e[0]-+t[0])),localStorage.setItem("sort type",JSON.stringify([0,0,"sortByCountMax",0]))}(r),this.moveCards(r,1)}moveCards(e,t){const r=document.querySelectorAll(".card"),a=[];for(let r=0;r<e.length;r++){const s=e[r][t];a.push(o.data[s])}r.forEach((e=>e.remove())),this.card.giveCardContent(a)}}},69:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Game=void 0;const o=r(625);t.Game=class{constructor(){this.settingsForTree=new o.SettingsForTree,this.garland=new o.Garland,this.toysSlots=new o.ToysSlots}start(){const e=()=>{o.startPage.classList.remove("hide","activeLink"),o.pageToys.classList.add("hide"),o.pageTree.classList.add("hide"),o.searchWrap.classList.add("hide"),this.garland.showGarland()},t=()=>{o.startPage.classList.add("hide"),o.pageToys.classList.remove("hide"),o.pageTree.classList.add("hide"),o.searchWrap.classList.remove("hide")},r=[{link:o.iconMainPage,namePage:"main",func:e},{link:o.buttonStart,namePage:"toys",func:t},{link:o.linkToToysPage,namePage:"toys",func:t},{link:o.linkToTreePage,namePage:"tree",func:()=>{o.startPage.classList.add("hide"),o.pageToys.classList.add("hide"),o.pageTree.classList.remove("hide"),o.searchWrap.classList.add("hide"),this.toysSlots.fillSlots(),this.settingsForTree.startSettings()}}];e(),r.forEach((e=>{e.link.addEventListener("click",(()=>{e.func(),(e=>{const t={main:o.iconMainPage,toys:o.linkToToysPage,tree:o.linkToTreePage};["main","toys","tree"].forEach((r=>{r===e?t[r].classList.add("active-page"):t[r].classList.remove("active-page")}))})(e.namePage)}))}))}}},532:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Card=t.savedSelectedToys=t.numCards=void 0;const o=r(625);t.numCards=[];const a=[{info:"Количество",value:"count"},{info:"Год покупки:",value:"year"},{info:"Форма:",value:"shape"},{info:"Цвет:",value:"color"},{info:"Размер:",value:"size"},{info:"Любимая:",value:"favorite"}];t.savedSelectedToys=[],t.Card=class{constructor(){this.selected=new o.Selected}giveCardContent(e){const r=localStorage.getItem("selected toys");t.numCards=[],r&&(t.savedSelectedToys=JSON.parse(r)),e.length?o.messageAfterFiltering.classList.add("message-hide"):o.messageAfterFiltering.classList.remove("message-hide");for(let r=0;r<e.length;r++){const o=document.querySelector(".toy-card-wrap"),a=document.createElement("div"),s=document.createElement("div"),n=document.createElement("h2"),l=document.createElement("div"),c=document.createElement("div"),i=document.createElement("div"),d=document.createElement("div");a.classList.add("card"),o.appendChild(a),setTimeout((()=>{a.classList.add("show-card")}),100),s.textContent=e[r].num,s.classList.add("num-card"),a.appendChild(s),n.textContent=e[r].name,n.classList.add("title-card"),a.appendChild(n),c.classList.add("picture-toys"),c.style.background=`url('./assets/toys/${e[r].num}.webp') center no-repeat`,c.style.backgroundSize="contain",l.classList.add("info-about-toy"),a.appendChild(l),l.appendChild(c),l.appendChild(i),d.classList.add("sticker"),a.appendChild(d),setTimeout((()=>{this.selected.addStickerToFavorites()}),0),this.fillOutTheCard(e,i,r),this.clickOnCard(a,e,i,r),t.numCards.push(+e[r].num)}}fillOutTheCard(e,t,r){a.forEach(((o,s)=>{const n=document.createElement("p"),l=document.createElement("p");switch(t.classList.add("card-info"),n.classList.add("text-info"),n.textContent=o.info,l.classList.add("value"),a[s].value){case"count":l.textContent=e[r].count;break;case"year":l.textContent=e[r].year,l.classList.add("buyYear");break;case"shape":l.textContent=e[r].shape,l.classList.add("type-shape");break;case"color":l.textContent=e[r].color,l.classList.add("type-color");break;case"size":l.textContent=e[r].size,l.classList.add("type-size");break;case"favorite":l.textContent=e[r].favorite,l.classList.add("is-favorite")}t.appendChild(n),n.appendChild(l)}))}clickOnCard(e,r,o,a){e.addEventListener("click",(e=>{const o=e.clientX,s=window.pageYOffset+e.clientY,n=t.savedSelectedToys.indexOf(r[a].num);let l;-1===n?(t.savedSelectedToys.length<20?t.savedSelectedToys.push(r[a].num):this.selected.showModalWindow(o,s),l=!1):(t.savedSelectedToys.splice(n,1),l=!0),localStorage.setItem("selected toys",JSON.stringify(t.savedSelectedToys)),this.selected.showSelected(r[a].num,l)}))}}},120:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ToyMovement=void 0;const o=r(625);let a,s,n;t.ToyMovement=class{constructor(){this.listenerDragleave=()=>{const e=n.id.split("-")[0],t=document.getElementById(e),r=()=>{n.classList.remove("move-toy"),n.style.top=n.style.left="50%",n.remove(),t&&(t.appendChild(n),this.countToysLeft(n)),n.removeEventListener("dragend",r)};o.area.addEventListener("dragenter",(()=>{n.removeEventListener("dragend",r)})),n.addEventListener("dragend",r)}}startMove(){const e=document.querySelectorAll(".one-toy");for(let t=0;t<e.length;t++)e[t].addEventListener("dragstart",(r=>{var o;n=e[t],e[t].classList.add("move-toy"),null===(o=r.dataTransfer)||void 0===o||o.setData("text",e[t].id),a=r.offsetX,s=r.offsetY}));o.area.addEventListener("dragover",(e=>{e.preventDefault()})),o.area.addEventListener("drop",(e=>{var t,r;const l=(o.treeWrap.clientWidth-o.tree.clientWidth)/2,c=o.treeWrap.clientHeight-o.tree.clientHeight,i=null!==(r=null===(t=e.dataTransfer)||void 0===t?void 0:t.getData("text"))&&void 0!==r?r:"",d=document.getElementById(i);d.style.top=String(100*(e.offsetY-s)/(o.tree.clientHeight+c))+"%",d.style.left=String(100*(e.offsetX-a+l)/o.treeWrap.clientWidth)+"%",o.treeWrap.appendChild(d),this.countToysLeft(n)})),o.area.addEventListener("dragleave",this.listenerDragleave)}countToysLeft(e){const t=e.id.split("-")[0],r=document.getElementById(t),o=r.children.length-1;let a;r&&(a=r.querySelector(".total-toys"),a.innerHTML=String(o))}}},548:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Search=void 0;const o=r(625);t.Search=class{constructor(){this.card=o.card}searchToys(){const e=document.createElement("button");o.inputSearch.addEventListener("input",(()=>{this.startSearch(),o.inputSearchWrap.lastChild!==e&&(o.inputSearch.classList.add("search-active"),e.classList.add("search-button"),o.inputSearchWrap.appendChild(e))})),o.inputSearch.onfocus=()=>{o.inputSearch.classList.remove("search-active"),e.remove()},e.addEventListener("click",(()=>{o.inputSearch.value="",o.inputSearch.focus(),this.startSearch()}))}startSearch(){const e=document.querySelectorAll(".card"),t=o.currentCards.length?o.currentCards:o.data,r=[];t.forEach((e=>{-1!==e.name.toLowerCase().indexOf(o.inputSearch.value.toLowerCase())&&r.push(e)})),e.forEach((e=>e.remove())),this.card.giveCardContent(r)}}},173:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Selected=void 0;const o=r(625);let a=+(localStorage.getItem("total selected toys")||0),s=!1;t.Selected=class{constructor(){this.card=o.card,this.totalFilters=o.totalFilters}showSelected(e,t){const r=document.querySelectorAll(".sticker"),s=document.querySelectorAll(".num-card");a<20?t?(a--,a<0&&(a=0),s.forEach(((t,o)=>{t.outerText===e&&r[o].classList.remove("sticker-favorite")}))):(a++,s.forEach(((t,o)=>{t.outerText===e&&r[o].classList.add("sticker-favorite")}))):t&&(a--,r[+e-1].classList.remove("sticker-favorite")),o.countSelectedShow.textContent=a.toString(),localStorage.setItem("total selected toys",a.toString())}showModalWindow(e,t){const r=document.documentElement.scrollHeight,a=document.documentElement.scrollWidth,s=document.createElement("div"),n=document.createElement("p");s.classList.add("message"),n.classList.add("text-message"),n.textContent="Извините, все слоты заполнены",n.style.left=a-e<350?a-350+"px":`${e}px`,n.style.top=r-t<250?r-250+"px":`${t}px`,o.mainPage.appendChild(s),s.appendChild(n),s.addEventListener("click",(()=>{s.remove()}))}addStickerToFavorites(){const e=localStorage.getItem("selected toys"),t=document.querySelectorAll(".num-card"),r=document.querySelectorAll(".sticker");if(e){const s=JSON.parse(e);for(let e=0;e<s.length;e++)t.forEach(((t,o)=>{t.outerText===s[e]&&r[o].classList.add("sticker-favorite")}));o.amountSelectedToys.textContent=a.toString()}}resetSelected(){const e=document.querySelectorAll(".sticker"),t=document.querySelector(".total-favorite");e.forEach((e=>{e.classList.remove("sticker-favorite")})),t.textContent="0",a=0,localStorage.setItem("selected toys",JSON.stringify([]))}showOnlySelected(){const e=document.querySelector(".ball"),t=()=>{const t=document.querySelectorAll(".card"),r=[];s=!0,o.data.forEach((e=>{o.savedSelectedToys.forEach((t=>{e.num===t&&r.push(e)}))})),t.forEach((e=>e.remove())),this.card.giveCardContent(r),e.classList.add("active-ball")},r=()=>{document.querySelectorAll(".card").forEach((e=>e.remove())),s=!1,this.totalFilters.createNewData(),e.classList.remove("active-ball")};e.addEventListener("click",(()=>{s?r():t()}))}}},849:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.CoordsArea=t.numCurrentTree=void 0;const o=r(625);t.numCurrentTree=localStorage.getItem("num-tree")?Number(localStorage.getItem("num-tree"))-1:0,t.CoordsArea=class{getCoords(e){t.numCurrentTree=e;this.countCoords(["239,0,228,36,199,45,203,65,184,86,200,132,172,113,145,136,176,172,164,195,159,209,117,204,91,227,119,255,111,285,136,293,112,311,121,340,81,334,61,368,105,390,103,423,28,423,9,451,32,471,42,495,50,505,75,496,78,517,70,530,10,532,0,550,5,576,22,581,22,610,46,623,74,652,108,644,97,677,121,694,145,686,162,659,176,698,187,713,215,707,226,685,241,706,267,706,284,703,292,690,303,707,323,708,336,700,360,708,382,692,380,667,432,680,458,665,462,640,482,592,470,576,498,573,499,545,496,526,440,525,427,495,428,482,466,476,458,438,416,429,417,405,384,390,434,377,437,342,393,337,380,321,404,296,401,273,374,262,411,240,401,208,366,212,356,184,347,179,371,156,353,128,318,144,321,125,311,109,292,108,316,83,307,55,292,55,291,42,277,27,273,14,265,0","243,0,233,35,216,39,214,58,202,59,209,81,191,85,202,105,177,112,180,130,167,154,180,168,161,177,166,189,145,189,154,204,142,221,131,232,136,258,117,271,123,287,95,293,98,317,80,328,106,344,109,363,69,370,94,393,85,412,95,423,50,448,68,471,35,480,36,494,28,499,43,518,26,525,43,557,14,546,19,575,14,589,28,607,2,631,0,645,52,639,73,641,71,653,121,668,101,689,127,699,127,713,230,671,248,672,263,703,277,683,317,700,317,679,336,707,346,695,393,705,375,669,399,660,428,680,438,667,482,654,447,625,490,612,478,593,499,586,457,560,476,555,472,540,486,526,454,506,457,490,444,462,460,450,405,426,437,415,413,389,410,349,396,339,395,314,382,305,393,275,359,282,380,248,369,233,366,219,339,219,358,198,336,192,334,167,321,158,328,138,315,121,323,103,306,97,300,72,281,58,282,45,266,35,258,0","232,0,230,11,218,12,229,34,199,54,214,76,181,111,190,136,167,143,171,161,153,172,162,180,154,189,146,216,160,227,142,238,145,248,131,253,133,268,127,289,111,306,120,321,98,354,119,368,86,374,93,393,73,403,75,432,64,452,60,466,64,477,41,488,55,501,35,531,48,549,16,570,31,589,7,610,24,628,24,645,38,650,45,661,61,681,100,673,116,681,137,670,131,688,147,711,173,685,181,699,208,682,229,708,264,685,310,713,326,709,350,685,386,672,390,653,407,673,429,673,458,664,478,659,482,641,471,613,493,609,492,571,480,548,471,521,454,506,471,490,455,455,431,442,443,413,420,396,425,371,410,341,390,330,401,311,381,298,380,268,377,247,360,241,359,228,346,218,357,201,338,180,346,154,330,135,325,114,309,110,309,88,292,84,298,56,279,42,260,32,258,11,246,1","238,0,240,37,224,30,227,50,206,50,210,68,192,71,202,87,177,105,178,125,146,152,164,166,161,184,122,208,149,217,144,248,117,273,78,320,116,319,87,354,83,376,56,410,100,400,100,418,31,488,77,488,41,539,47,554,0,603,24,603,3,637,20,637,6,669,60,655,57,667,83,677,76,713,119,694,146,668,172,692,187,678,201,690,223,690,260,712,275,709,275,697,298,684,331,703,337,684,356,695,370,681,442,708,441,681,422,653,426,642,468,650,449,626,493,623,462,594,457,573,421,540,453,523,407,477,447,463,413,433,426,404,395,376,369,355,408,356,383,320,398,318,360,279,369,266,347,242,369,231,345,209,324,189,342,176,320,153,320,141,305,123,289,92,287,71,275,53,257,28,253,1","248,0,240,24,229,36,226,56,223,79,193,105,202,118,192,122,197,135,179,159,168,175,178,192,167,204,156,229,160,241,148,256,156,261,136,283,131,306,134,312,118,326,114,351,122,371,103,400,98,411,78,417,86,443,112,454,95,466,70,460,56,468,80,494,41,524,42,549,71,552,24,576,20,586,42,599,7,609,5,625,15,637,66,643,48,660,53,674,71,676,67,688,71,701,104,699,125,687,127,705,140,708,160,693,177,694,187,670,195,672,189,692,208,693,221,682,228,700,253,697,264,680,289,710,301,707,301,687,314,706,330,707,341,694,357,707,374,704,376,688,378,678,423,695,437,685,438,672,427,660,430,647,488,642,494,609,460,603,483,588,470,568,445,558,457,531,442,511,407,502,426,485,394,460,400,445,421,433,416,415,402,416,401,399,379,400,388,383,374,377,395,355,384,338,363,343,365,321,337,308,351,288,353,263,335,245,343,226,322,200,324,183,297,177,312,148,294,129,281,112,294,103,280,94,280,72,266,52,264,27,254,10","250,0,246,59,229,41,221,49,230,77,202,66,200,87,199,109,183,115,179,137,158,138,147,151,165,191,156,205,134,189,124,199,155,241,112,247,109,263,132,271,119,280,94,276,95,289,124,313,113,333,86,322,88,333,92,345,52,358,59,374,95,380,72,381,87,409,53,419,54,444,77,457,50,458,46,473,68,482,20,505,18,527,56,525,17,558,37,589,2,614,4,625,54,644,57,664,87,667,105,685,137,684,163,681,163,699,180,699,237,691,253,708,277,695,305,708,320,700,351,689,399,674,425,654,482,652,484,634,484,617,462,597,499,584,498,566,473,565,476,549,472,525,447,516,468,505,443,487,459,480,460,462,433,444,417,429,432,414,414,397,446,378,422,363,426,347,393,325,406,308,390,297,406,281,381,262,390,246,357,233,353,218,376,200,362,183,352,183,353,158,338,144,325,147,331,129,327,113,311,105,312,81,293,73,301,31,287,28,268,50,264,2"][t.numCurrentTree])}countCoords(e){let t=e.split(",").map((e=>+e));t=t.map(((e,t)=>t%2==0?Math.ceil(e*o.tree.offsetWidth/500):Math.ceil(e*o.tree.offsetHeight/700))),o.area.setAttribute("coords",t.join(","))}}},838:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.PageTree=void 0,t.PageTree=class{createPageChristmasTree(){this.createTreeCards(),this.createBgCards(),this.createGarland()}createCards(e,t,r){for(let o=0;o<e;o++){const e=document.createElement("div");e.classList.add(r),"tree-card"===r?e.setAttribute("data-num-tree",`${o+1}`):e.setAttribute("data-num-bg",`${o+1}`),t.appendChild(e)}}createTreeCards(){const e=document.querySelector(".tree-cards-wrap");this.createCards(6,e,"tree-card")}createBgCards(){const e=document.querySelector(".bg-cards-wrap");this.createCards(10,e,"bg-card")}createGarland(){const e=document.querySelector(".garland-button-wrap"),t=["red-garland","yellow-garland","green-garland","blue-garland","mix-garland"];for(let r=0;r<5;r++){const o=document.createElement("button");o.classList.add("garland-button",t[r]),e.appendChild(o)}}}},364:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.SettingsForTree=t.isOnGarland=void 0;const o=r(625);t.isOnGarland=!1;let a=!1,s=!1;const n=new Audio("./assets/audio/audio.mp3");t.SettingsForTree=class{constructor(){this.coordsArea=new o.CoordsArea,this.garland=new o.Garland}startSettings(){this.chooseTree(),this.chooseBg(),this.onOrOffGarland(),o.resetSettings.addEventListener("click",(()=>{this.resetSettingsForTree()}))}chooseImage(e,t,r){const a="data-num-"+r;e.forEach((e=>{e.addEventListener("click",(()=>{const s=e.getAttribute(a)||"1";"bg"===r?t.style.backgroundImage=`url(././assets/${r}/${s}.webp)`:(o.tree.setAttribute("src",`./assets/tree/${s}.webp`),this.coordsArea.getCoords(+s-1)),localStorage.setItem(`num-${r}`,e.getAttribute(a))}))}))}chooseTree(){const e=document.querySelectorAll(".tree-card"),t=localStorage.getItem("num-tree")||1;o.tree.setAttribute("src",`./assets/tree/${t}.webp`),this.chooseImage(e,o.tree,"tree")}chooseBg(){const e=document.querySelectorAll(".bg-card"),t=localStorage.getItem("num-bg")||1;o.treeWrap.style.backgroundImage=`url(././assets/bg/${t}.webp)`,this.chooseImage(e,o.treeWrap,"bg")}showOrHideSnow(){const e=document.querySelector(".snow"),t=document.querySelector(".tree-wrap");s=!0===JSON.parse(localStorage.getItem("snow"));const r=()=>{const e=document.createElement("div");if(!s)return;const r=10*Math.random()+10,o=2*Math.random()+5;e.style.width=e.style.height=r.toString()+"px",e.style.left=(Math.random()*t.offsetWidth).toString()+"px",e.style.animationDuration=o.toString()+"s",e.style.opacity=String(Math.random()),e.classList.add("snowflake"),t.appendChild(e),setTimeout((()=>{e.remove()}),5e3)};s&&(e.classList.add("active"),setInterval(r,100)),e.addEventListener("click",(()=>{s=!s,setInterval(r,100),e.classList.toggle("active"),localStorage.setItem("snow",JSON.stringify(s))}))}startOrStopMusic(){n.volume=.2,n.loop=!0,a=!0===JSON.parse(localStorage.getItem("sound"));const e=()=>{n.play().then((()=>o.buttonSound.classList.add("active"))).catch((()=>n.pause()))},t=()=>{localStorage.setItem("sound",JSON.stringify(a)),document.removeEventListener("click",e)};a&&document.addEventListener("click",e),o.buttonSound.addEventListener("click",(()=>{a?n.pause():e(),a=!a,o.buttonSound.classList.toggle("active"),t()})),o.resetSettings.addEventListener("click",(()=>{n.pause(),a=!1,n.currentTime=0,o.buttonSound.classList.remove("active"),t()}))}onOrOffGarland(){const e=document.querySelector(".mix-garland"),r=document.querySelector(".green-garland"),a=document.querySelector(".red-garland"),s=document.querySelector(".blue-garland"),n=document.querySelector(".yellow-garland"),l=localStorage.getItem("color-garland")||"mix",c=JSON.parse(localStorage.getItem("show-garland")),i=e=>{t.isOnGarland=o.switchGarland.checked=!0,this.garland.createGarlandForTree(e),localStorage.setItem("color-garland",e),localStorage.setItem("show-garland",JSON.stringify(!0))};c&&i(l),o.switchGarland.addEventListener("click",(()=>{t.isOnGarland=o.switchGarland.checked,t.isOnGarland?this.garland.createGarlandForTree(localStorage.getItem("color-garland")||"mix"):this.garland.createGarlandForTree(""),t.isOnGarland?localStorage.setItem("show-garland",JSON.stringify(!0)):localStorage.setItem("show-garland",JSON.stringify(!1))})),[["mix",e],["lightgreen",r],["red",a],["blue",s],["gold",n]].forEach((e=>{e[1].addEventListener("click",(()=>{i(e[0])}))}))}resetSettingsForTree(){const e=document.querySelector(".snow");["num-tree","num-bg","color-garland","show-garland","sound","snow"].forEach((e=>{localStorage.removeItem(e)})),o.treeWrap.style.backgroundImage="url(././assets/bg/1.webp)",o.tree.setAttribute("src","./assets/tree/1.webp"),t.isOnGarland=o.switchGarland.checked=!1,this.garland.createGarlandForTree(""),e.classList.remove("active"),s=!1}}}},t={};function r(o){var a=t[o];if(void 0!==a)return a.exports;var s=t[o]={exports:{}};return e[o].call(s.exports,s,s.exports,r),s.exports}(()=>{const e=r(625),t=new e.FilterByShape,o=new e.FilterBySize,a=new e.FilterByFavorite,s=new e.FilterByColor,n=new e.RangeFilters,l=new e.ResetFilters,c=new e.SettingsForTree;e.game.start(),e.card.giveCardContent(e.data),e.objPageTree.createPageChristmasTree(),e.sort.chooseSort(),n.showSlider(),t.selectOption(),o.selectOption(),a.favorite(),s.selectOption(),e.search.searchToys(),l.localReset(),e.selected.showOnlySelected(),c.startOrStopMusic(),c.showOrHideSnow(),window.addEventListener("resize",(()=>{e.coordsArea.getCoords(e.numCurrentTree)}))})()})();