import {
    tree,
    area,
} from "../constants";

export let numCurrentTree: number = localStorage.getItem('num-tree') ? Number(localStorage.getItem('num-tree')) - 1 : 0;

const DEFAULT_WIDTH_TREE = 500;
const DEFAULT_HEIGHT_TREE = 700;

export class CoordsArea {
    getCoords(numTree: number) {
        numCurrentTree = numTree;
        const areaForTree1 = '239,0,228,36,199,45,203,65,184,86,200,132,172,113,145,136,176,172,164,195,159,209,117,204,91,227,119,255,111,285,136,293,112,311,121,340,81,334,61,368,105,390,103,423,28,423,9,451,32,471,42,495,50,505,75,496,78,517,70,530,10,532,0,550,5,576,22,581,22,610,46,623,74,652,108,644,97,677,121,694,145,686,162,659,176,698,187,713,215,707,226,685,241,706,267,706,284,703,292,690,303,707,323,708,336,700,360,708,382,692,380,667,432,680,458,665,462,640,482,592,470,576,498,573,499,545,496,526,440,525,427,495,428,482,466,476,458,438,416,429,417,405,384,390,434,377,437,342,393,337,380,321,404,296,401,273,374,262,411,240,401,208,366,212,356,184,347,179,371,156,353,128,318,144,321,125,311,109,292,108,316,83,307,55,292,55,291,42,277,27,273,14,265,0';
        const areaForTree2 = '243,0,233,35,216,39,214,58,202,59,209,81,191,85,202,105,177,112,180,130,167,154,180,168,161,177,166,189,145,189,154,204,142,221,131,232,136,258,117,271,123,287,95,293,98,317,80,328,106,344,109,363,69,370,94,393,85,412,95,423,50,448,68,471,35,480,36,494,28,499,43,518,26,525,43,557,14,546,19,575,14,589,28,607,2,631,0,645,52,639,73,641,71,653,121,668,101,689,127,699,127,713,230,671,248,672,263,703,277,683,317,700,317,679,336,707,346,695,393,705,375,669,399,660,428,680,438,667,482,654,447,625,490,612,478,593,499,586,457,560,476,555,472,540,486,526,454,506,457,490,444,462,460,450,405,426,437,415,413,389,410,349,396,339,395,314,382,305,393,275,359,282,380,248,369,233,366,219,339,219,358,198,336,192,334,167,321,158,328,138,315,121,323,103,306,97,300,72,281,58,282,45,266,35,258,0';
        const areaForTree3 = '232,0,230,11,218,12,229,34,199,54,214,76,181,111,190,136,167,143,171,161,153,172,162,180,154,189,146,216,160,227,142,238,145,248,131,253,133,268,127,289,111,306,120,321,98,354,119,368,86,374,93,393,73,403,75,432,64,452,60,466,64,477,41,488,55,501,35,531,48,549,16,570,31,589,7,610,24,628,24,645,38,650,45,661,61,681,100,673,116,681,137,670,131,688,147,711,173,685,181,699,208,682,229,708,264,685,310,713,326,709,350,685,386,672,390,653,407,673,429,673,458,664,478,659,482,641,471,613,493,609,492,571,480,548,471,521,454,506,471,490,455,455,431,442,443,413,420,396,425,371,410,341,390,330,401,311,381,298,380,268,377,247,360,241,359,228,346,218,357,201,338,180,346,154,330,135,325,114,309,110,309,88,292,84,298,56,279,42,260,32,258,11,246,1';
        const areaForTree4 = '238,0,240,37,224,30,227,50,206,50,210,68,192,71,202,87,177,105,178,125,146,152,164,166,161,184,122,208,149,217,144,248,117,273,78,320,116,319,87,354,83,376,56,410,100,400,100,418,31,488,77,488,41,539,47,554,0,603,24,603,3,637,20,637,6,669,60,655,57,667,83,677,76,713,119,694,146,668,172,692,187,678,201,690,223,690,260,712,275,709,275,697,298,684,331,703,337,684,356,695,370,681,442,708,441,681,422,653,426,642,468,650,449,626,493,623,462,594,457,573,421,540,453,523,407,477,447,463,413,433,426,404,395,376,369,355,408,356,383,320,398,318,360,279,369,266,347,242,369,231,345,209,324,189,342,176,320,153,320,141,305,123,289,92,287,71,275,53,257,28,253,1';
        const areaForTree5 = '248,0,240,24,229,36,226,56,223,79,193,105,202,118,192,122,197,135,179,159,168,175,178,192,167,204,156,229,160,241,148,256,156,261,136,283,131,306,134,312,118,326,114,351,122,371,103,400,98,411,78,417,86,443,112,454,95,466,70,460,56,468,80,494,41,524,42,549,71,552,24,576,20,586,42,599,7,609,5,625,15,637,66,643,48,660,53,674,71,676,67,688,71,701,104,699,125,687,127,705,140,708,160,693,177,694,187,670,195,672,189,692,208,693,221,682,228,700,253,697,264,680,289,710,301,707,301,687,314,706,330,707,341,694,357,707,374,704,376,688,378,678,423,695,437,685,438,672,427,660,430,647,488,642,494,609,460,603,483,588,470,568,445,558,457,531,442,511,407,502,426,485,394,460,400,445,421,433,416,415,402,416,401,399,379,400,388,383,374,377,395,355,384,338,363,343,365,321,337,308,351,288,353,263,335,245,343,226,322,200,324,183,297,177,312,148,294,129,281,112,294,103,280,94,280,72,266,52,264,27,254,10';
        const areaForTree6 = '250,0,246,59,229,41,221,49,230,77,202,66,200,87,199,109,183,115,179,137,158,138,147,151,165,191,156,205,134,189,124,199,155,241,112,247,109,263,132,271,119,280,94,276,95,289,124,313,113,333,86,322,88,333,92,345,52,358,59,374,95,380,72,381,87,409,53,419,54,444,77,457,50,458,46,473,68,482,20,505,18,527,56,525,17,558,37,589,2,614,4,625,54,644,57,664,87,667,105,685,137,684,163,681,163,699,180,699,237,691,253,708,277,695,305,708,320,700,351,689,399,674,425,654,482,652,484,634,484,617,462,597,499,584,498,566,473,565,476,549,472,525,447,516,468,505,443,487,459,480,460,462,433,444,417,429,432,414,414,397,446,378,422,363,426,347,393,325,406,308,390,297,406,281,381,262,390,246,357,233,353,218,376,200,362,183,352,183,353,158,338,144,325,147,331,129,327,113,311,105,312,81,293,73,301,31,287,28,268,50,264,2';
        const possibleArea = [areaForTree1, areaForTree2, areaForTree3, areaForTree4, areaForTree5, areaForTree6];

        this.countCoords(possibleArea[numCurrentTree])
    }

    countCoords(areaForTree: string) {
        let arrCoords: number[] = areaForTree.split(',').map(item => +item);

        arrCoords = arrCoords.map((item, index) => index % 2 === 0 ? Math.ceil(item * tree.offsetWidth / DEFAULT_WIDTH_TREE) : Math.ceil(item * tree.offsetHeight / DEFAULT_HEIGHT_TREE));
        area.setAttribute('coords', arrCoords.join(','));
    }
}
